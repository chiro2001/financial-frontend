syntax = "proto3";

import "google/protobuf/wrappers.proto";
import "google/protobuf/empty.proto";

package financial_analysis;

service ApiRpc {
    rpc Ping (google.protobuf.Empty) returns (google.protobuf.Empty) {}
    rpc Login (LoginRegisterRequest) returns (LoginResp) {}
    rpc StockList (google.protobuf.Empty) returns (StockListResp) {}
}

service Register {
    rpc Register (LoginRegisterRequest) returns (ReasonResp) {}
}

message LoginRegisterRequest {
    string username = 1;
    string password = 2;
}

message ReasonResp {
    bool err = 1;
    string reason = 2;
};

message LoginResp {
    bool err = 1;
    string token = 2;
    string reason = 3;
};

message StockResp {
    string symbol = 1;
    string code = 2;
    string name = 3;
    string id = 4;
}

message StockListResp {
    repeated StockResp data = 1;
}